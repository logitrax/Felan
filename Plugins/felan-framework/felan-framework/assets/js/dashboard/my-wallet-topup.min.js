var WALLET_TOPUP=WALLET_TOPUP||{};(function(l){"use strict";var f=felan_wallet_topup_vars.ajax_url,s=felan_wallet_topup_vars.not_wallet,p=l("#tab-topup");WALLET_TOPUP={init:function(){this.wallet_topup()},wallet_topup:function(){p.find(".select-pagination").change(function(){var t="";l(".select-pagination option:selected").each(function(){t+=l(this).val()+" "});l(this).attr("value")}).trigger("change");p.find("select.search-control").on("change",function(){l(".felan-pagination").find('input[name="paged"]').val(1);e()});p.find("input.search-control").on("input",function(){l(".felan-pagination").find('input[name="paged"]').val(1);e()});function t(n,e){var i=0;return function(){var t=this,a=arguments;clearTimeout(i);i=setTimeout(function(){n.apply(t,a)},e||0)}}l("body").on("click","#tab-topup .felan-pagination a.page-numbers",function(t){t.preventDefault();l("#tab-topup .felan-pagination li .page-numbers").removeClass("current");l(this).addClass("current");var a=l(this).text();var n=1;if(p.find(".felan-pagination").find('input[name="paged"]').val()){n=l(".felan-pagination").find('input[name="paged"]').val()}if(l(this).hasClass("next")){a=parseInt(n)+1}if(l(this).hasClass("prev")){a=parseInt(n)-1}p.find(".felan-pagination").find('input[name="paged"]').val(a);e()});var a=1;p.find(".select-pagination").attr("data-value",a);function e(){var o=1;var t=p.find("#wallet-topup").height();var a=p.find('select[name="wallet_status"]').val(),n=p.find('select[name="wallet_method"]').val(),e=p.find('select[name="item_amount"]').val(),i=p.find('select[name="wallet_sort_by"]').val();o=p.find(".felan-pagination").find('input[name="paged"]').val();l.ajax({dataType:"json",url:f,data:{action:"felan_my_wallet_topup",item_amount:e,paged:o,wallet_status:a,wallet_method:n,wallet_sort_by:i},beforeSend:function(){p.find(".felan-loading-effect").addClass("loading").fadeIn();p.find("#wallet-topup").height(t)},success:function(t){if(t.success===true){var a=p.find(".items-pagination"),n=a.find('select[name="item_amount"] option:selected').val(),e=t.total_post,i=n*o+1-n,l=n*o;if(e<i){i=n*(o-1)+1}if(e<l){l=e}p.find(".num-first").text(i);p.find(".num-last").text(l);if(e>n){a.closest(".pagination-dashboard").show();a.find(".num-total").html(t.total_post)}else{a.closest(".pagination-dashboard").hide()}p.find(".pagination").html(t.pagination);p.find("#wallet-topup tbody").fadeOut("fast",function(){p.find("#wallet-topup tbody").html(t.wallet_html);p.find("#wallet-topup tbody").fadeIn(300)});p.find("#wallet-topup").css("height","auto")}else{p.find("#wallet-topup tbody").html('<span class="not-service">'+s+"</span>")}p.find(".felan-loading-effect").removeClass("loading").fadeOut()}})}}};l(document).ready(function(){WALLET_TOPUP.init()})})(jQuery);