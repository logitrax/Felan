(function(o){"use strict";var s=felan_upload_cv_vars.ajax_url,t=felan_upload_cv_vars.title,l=felan_upload_cv_vars.cv_file,n=felan_upload_cv_vars.cv_max_file_size,_=felan_upload_cv_vars.text,c=felan_upload_cv_vars.url,i=felan_upload_cv_vars.upload_nonce;o(document).ready(function(){var a=function(){var r=new plupload.Uploader({browse_button:"felan_custom_select_cv",file_data_name:"felan_thumbnail_upload_file",drop_element:"felan_custom_select_cv",container:"felan_custom_cv_plupload_container",url:c,filters:{mime_types:[{title:t,extensions:l}],max_file_size:n,prevent_duplicates:true}});r.init();r.bind("UploadProgress",function(a,e){o("#felan_select_cv i").removeClass("far fa-arrow-from-bottom large");o("#felan_select_cv i").addClass("fal fa-spinner fa-spin large")});r.bind("FilesAdded",function(a,e){var t=1;a.refresh();r.start()});r.bind("Error",function(a,e){document.getElementById("cv_custom_cerrors_log").innerHTML+="Error #"+e.code+": "+e.message+"<br/>"});r.bind("FileUploaded",function(a,e,t){var r=o.parseJSON(t.response);if(r.success){o(".cv_url").val(r.url);o("#felan_custom_drop_cv").attr("data-attachment-id",r.attachment_id);o("#felan_custom_drop_cv .cv-icon-delete").remove();o("#felan_custom_drop_cv").append('<a class="icon cv-icon-delete" data-jobs-id="0"  data-attachment-id="'+r.attachment_id+'" href="#" ><i class="far fa-trash-alt large"></i></a>');var l='<i class="far fa-arrow-from-bottom large"></i><span>'+r.title+"</span>";o("#felan_custom_select_cv i").addClass("far fa-arrow-from-bottom large");o("#felan_custom_select_cv").html(l);o("#cv_custom_url-error").hide();o("#freelancer-profile-form").find(".point-mark").change()}})};a();var e=function(c){o("body").on("click",".cv-icon-delete",function(a){a.preventDefault();var e=o(this),t=e,r=e.closest(".media-thumb-wrap"),l=e.data("jobs-id"),n=e.data("attachment-id");t.html('<i class="fal fa-spinner fa-spin large"></i>');o.ajax({type:"post",url:s,dataType:"json",data:{action:"felan_thumbnail_remove_ajax",jobs_id:l,attachment_id:n,type:c,removeNonce:i},beforeSend:function(){t.html('<i class="fal fa-spinner fa-spin large"></i>')},success:function(a){if(a.success){o("#cv_custom_url-error").show();o(".felan_custom_cv_file").show()}o("#felan_custom_select_cv").html(_);o("#felan_custom_drop_cv").attr("data-attachment-id","");o("#freelancer-profile-form").find(".point-mark").change();t.remove()},error:function(){t.html('<i class="far fa-trash-alt large"></i>')}})})};e("thumb")})})(jQuery);